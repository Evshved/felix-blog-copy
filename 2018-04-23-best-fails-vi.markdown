---
layout: post
title: "Лучшие ошибки софта VI"
date: 2018-04-23 16:35:12 +0300
categories: best_fails
---
В 1992 году случилось то, что будут называть [London Ambulance Disaster](https://www.wired.com/2009/10/1026london-ambulance-computer-meltdown/). Светлым головам в Лондоне пришла мысль, что диспетчеры Скорой помощи слишком медленно работают, надо автоматизировать. Автоматизировали. Пустили в production систему, которая на момент ввода в строй НЕ была проверена под нагрузкой, а также содержала 81 известную ошибку. И вообще всё было [плохо-плохо](http://www0.cs.ucl.ac.uk/staff/A.Finkelstein/las/lascase0.9.pdf) (детальный отчёт в PDF, а более человекочитаемая версия другого автора вот [тут](http://erichmusick.com/writings/technology/1992-london-ambulance-cad-failure.html)). Если кратко, почти сразу после запуска система почудачила, отправляя экипажи куда попало, звонки тоже смешались, наконец, из-за минорной баги всё упало. Два дня реакция Скорой была крайне запаздывающая, что привело к 46+ смертям.

---

Бекапы, бекапы... Лейквуд (Колорадо), 1990 год, 27 февраля. [Вылетает](https://cs.stanford.edu/people/eroberts/cs181/projects/1999-00/critical-systems/commercial.htm) единственный (!) жёсткий диск у единственного (!) компьютера, что управляет городскими светофорами. Ну, вы поняли.

---

А вот следствие как ошибки софта, так и человеческой: с 2011 года по 2017 год в Англии [не отправили](https://www.digitalhealth.net/2017/06/1700-cases-of-potential-harm-from-medical-correspondence-error/) пациентам и врачам около 709К писем. Иначе говоря, шесть лет косячили с отправкой писем, содержащих в числе прочего информацию, отсутствие которой могло повредить здоровью 1700+ человек. Куда смотрели админы? Куда смотрели врачи? Куда смотрели пациенты? Отличный кейс для дискуссий на тему *"мониторинга людьми"*.

---

У ошибок много следствий, после которых нельзя не задумываться о том, где заканчивается толерантность к *"ну а чё, с каждым бывает, накосячил, да"*. Например, 4 февраля 2017 года на софт Florida Department of Children and Families [накатили](http://www.tampabay.com/news/child-abuse-tips-silenced-for-months-by-dcf-computer-glitch/2323316) апдейт. И только 28 апреля заметили, что около 1500 обращений на Florida Abuse Hotline (горячая линия, на которую сообщают о насилии над детьми) не было обработано системой должным образом. В базу шло, а дальше нет. Потом, конечно, это стали поднимать из беклога, но такая долгая задержка следователям не сделала жизнь проще. С каждым бывает, да?

---

20 декабря 2017 года по всей России [перестала](http://www.forbes.ru/biznes/354735-problema-2018-goda-massovyy-sboy-v-rabote-onlayn-kass-proizoshel-iz-za-oshibki) работать часть кассовых аппаратов АО "Штрих-М", ООО "РР-Электро", ООО "Тринити" и ООО "НТЦ Измеритель". Масштаб для примера — в Алтайском крае вырубило около 20%, всего же по России [около 80К касс](https://www.vedomosti.ru/business/articles/2017/12/21/746006-sboi-onlain-kass). Всё было так грустно, что в кои веки власть пошла навстречу и ФНС оперативно разрешила магазинам отпускать товар и услуги без использования касс. Починкой [занимались](https://www.vedomosti.ru/business/news/2017/12/20/745931-shtrih-m-priznala-massovuyu-polomku-svoih-kassovih-apparatov) 2500 сервисных центров и 20000 инженеров. Потери бизнеса неведомы (примерно [насчитали](https://lenta.ru/news/2017/12/20/bug/) 2.5+ миллиарда рублей). Нагнал жути? А всё потому, что где-то в коде неправильно [написали](https://www.retail-loyalty.org/news/shtrikh-m-utochnila-prichinu-sboya-v-rabote-onlayn-kass-/) конвертацию даты: *"при конвертации даты 20.12.2017 во внутренний формат устройства операция «печать чека» становилась циклической"*. При этом, как я понял, проблема возникла на стыке интеграции с софтом, который работал со "старым" форматом даты вида dd.mm.yy (при переходе на 2000-й год всему плохеет) вместо dd.mm.yyyy.
